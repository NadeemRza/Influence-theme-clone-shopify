{% if section.settings.annoucement_visibility %}
  <div class="slider" data-flickity='{ "cellAlign": "left", "contain": true }'>
    {% for block in section.blocks %}
      <div class="annoucement-bar">
        <div class="annoucement-bar__container">
          <div class="annoucement-bar__content flex justify-center align-center">
            <div class="paragraph-{{ block.id }}">{{ block.settings.annoucement_text }}</div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% endif %}

{% style %}
  .annoucement-bar {
    background-color: {{ section.settings.background_color}}
    ;
  }

  {% for block in section.blocks %}
    .paragraph-{{ block.id}}{
      color: {{ block.settings.text_color}}
      ;
    }
  {% endfor %}
{% endstyle %}

{% schema %}
  {
    "name": "Annoucement bar",
    "class": "annoucement-bar",
    "tag": "header",
    "settings": [
      {
        "type": "checkbox",
        "id": "annoucement_visibility",
        "label": "Show Announcement Bar",
        "default": true
      }, {
        "type": "color",
        "id": "background_color",
        "label": "Background Color",
        "default": "#261d09"
      }
    ],
    "blocks": [
      {
        "type": "annoucement-block",
        "name": "Annoucement Block",
        "settings": [
          {
            "type": "textarea",
            "id": "annoucement_text",
            "label": "Heading Text",
            "default": "<p>MAKE A STATEMENT</p>"
          }, {
            "type": "color",
            "id": "text_color",
            "label": "Text Color",
            "default": "#fff"
          }
        ]
      }
    ]
  }
{% endschema %}